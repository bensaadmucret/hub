{# templates/sections/_testimonials.html.twig #}
{% if content %}
<section id="{{ id|default('testimonials') }}" class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">{{ content.title|default('Ils nous font confiance') }}</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">{{ content.subtitle|default('Découvrez ce que disent nos utilisateurs satisfaits') }}</p>
        </div>
        <div class="grid md:grid-cols-3 gap-8">
            {% for card in content.cards|default([]) %}
                <div class="bg-gray-50 p-8 rounded-xl shadow-sm">
                    <div class="flex items-center mb-4">
                        <div class="flex-shrink-0">
                            <img class="h-12 w-12 rounded-full" src="{{ card.photo|default('https://randomuser.me/api/portraits/lego/1.jpg') }}" alt="{{ card.author|default('Auteur') }}">
                        </div>
                        <div class="ml-4">
                            <h4 class="text-lg font-semibold text-gray-900">{{ card.author|default('Auteur') }}</h4>
                            <p class="text-gray-600">{{ card.role|default('Rôle') }}</p>
                        </div>
                    </div>
                    <p class="text-gray-600 italic">
                        {{ card.text|default('Témoignage utilisateur.') }}
                    </p>
                    <div class="mt-4 flex text-yellow-400">
                        {% for i in 1..(card.rating|default(5)) %}
                            <i class="fas fa-star"></i>
                        {% endfor %}
                        {% if card.rating is defined and card.rating < 5 %}
                            {% for i in 1..(5 - card.rating) %}
                                <i class="far fa-star"></i>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}
